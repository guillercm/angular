@if (form()) {
  @let formInstance = form()!;
  <form [formGroup]="formInstance" (ngSubmit)="onSubmit()" [ngClass]="additionalClasses()" novalidate>
    @for (key of formKeys; track $index) {
        <pato-control [formControlName]="key"></pato-control>
        <!-- <ng-container patoFormControlInjectorDirective [key]="key" #formField></ng-container> -->
    }
    <ng-container *ngTemplateOutlet="finalFormTemplate()"></ng-container>
  </form>
}
