import{a as Ge}from"./chunk-ZHQLKOGY.js";import{a as je}from"./chunk-XFTULAIF.js";import{a as qe,b as ze,c as W,d as Ue}from"./chunk-DKQWGQSS.js";import{b as He}from"./chunk-KQJILISE.js";import{a as de,b as ce}from"./chunk-7MUG4IKG.js";import{a as Ne}from"./chunk-LUKIQC62.js";import{a as R}from"./chunk-TUBPG5SD.js";import{a as pe,b as $}from"./chunk-JZJMG7BS.js";import{a as H,b as T,k as V}from"./chunk-TL2ENYRO.js";import{a as Me}from"./chunk-XEY2LQFA.js";import{a as k}from"./chunk-KN4VHTSD.js";import{k as Le}from"./chunk-IPQDTYGK.js";import"./chunk-IMVKVKEY.js";import"./chunk-VS2C44R4.js";import"./chunk-CCOCAEYR.js";import{c as ke,d as se}from"./chunk-APTPNK3X.js";import{a as X}from"./chunk-BNZKEYAF.js";import{h as z,i as Ve,j as U,k as le}from"./chunk-AZ3WMJ64.js";import"./chunk-QXNNFRMO.js";import{$b as ne,Ad as Ae,Bc as j,Cb as v,Cc as Pe,Cd as q,Da as Te,Dc as Q,Eb as De,Fc as b,Gc as h,Ib as E,Ja as te,Ka as p,Kc as Re,La as we,Ma as xe,Na as _,Sb as O,Tb as m,Vb as oe,Xb as I,Xc as C,Yb as Ee,Yc as Be,Zc as ye,_b as ie,ac as r,bc as a,cc as f,da as N,ea as Se,ec as A,gc as g,hc as S,ka as c,ld as Oe,ob as l,qc as G,r as K,rc as u,sc as P,tc as re,u as Fe,uc as ae,va as w,wa as x,yc as Ie}from"./chunk-RKFGQAXB.js";import{a as y,b as F}from"./chunk-75BJGDCN.js";var me=class i{_authService=c(ce);_userContextServiceService=c(de);_activatedRoute=c(z);_router=c(U);user=C(()=>this._userContextServiceService.user());logout(){return this._authService.logout(),this._router.navigate(["../"],{relativeTo:this._activatedRoute})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-admin-dashboard-layout"]],decls:11,vars:8,consts:[[1,"container","p-2","border","rounded"],[1,"navbar"],["href","#",1,"navbar-brand"],["src","https://images.unsplash.com/photo-1542909168-82c3e7fdca5c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=128&q=80","width","30","height","30","alt","",1,"d-inline-block","align-top"],["variant","danger",3,"click","outline","label"],[1,"container"]],template:function(t,o){if(t&1&&(r(0,"div",0)(1,"nav",1)(2,"a",2),f(3,"img",3),u(4),b(5,"appTranslate"),a(),r(6,"shared-button",4),b(7,"appTranslate"),g("click",function(){return o.logout()}),a()(),f(8,"hr"),r(9,"div",5),f(10,"router-outlet"),a()()),t&2){let n;l(4),ae(" ",h(5,4,"i18n.common.welcome")," ",(n=o.user())==null?null:n.fullName," "),l(2),m("outline",!0)("label",h(7,6,"i18n.common.logout"))}},dependencies:[Ve,X,k],encapsulation:2})};var ue=class i{formField=p.required();_value=_("");value=this._value.asReadonly();_disabled=_(!1);disabled=this._disabled.asReadonly();rows=p(3);changeValue=te();control=C(()=>this.formField().control());id=C(()=>this.formField().id());onBlur(){this._onTouched()}change(e){let t=e.target.value;this._onChange(t)}_onChange=()=>{};_onTouched=()=>{};registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._value.set(e||"")}setDisabledState(e){this._disabled.set(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["pato-textarea"]],inputs:{formField:[1,"formField"],rows:[1,"rows"]},outputs:{changeValue:"changeValue"},features:[j([{provide:H,useExisting:N(()=>i),multi:!0}])],decls:1,vars:8,consts:[[1,"form-control",3,"input","blur","rows","id","value"]],template:function(t,o){t&1&&(r(0,"textarea",0),g("input",function(s){return o.change(s)})("blur",function(){return o.onBlur()}),a()),t&2&&(oe("is-valid",o.control().validator&&o.control().valid&&o.control().touched)("is-invalid",o.control().validator&&o.control().invalid&&o.control().touched),m("rows",o.rows())("id",o.id())("value",o.value()),O("disabled",o.disabled()?"disabled":null))},dependencies:[q,V],encapsulation:2})};function We(i,e){if(i&1&&(r(0,"span",1),f(1,"i",3),a()),i&2){let t=S();l(),m("ngClass","bi bi-"+t.icon())}}var Z=class i{_patoFormComponent=c(pe);_destroyRef=c(Te);formField=p.required();placeholder=p("");icon=p();autocomplete=p(!0);additionalClasses=p();showArrows=p(!1);allowNegative=p(!1);allowDecimal=p(!1);allowNotation=p(!1);min=p(null);max=p(null);control=C(()=>this.formField().control());id=C(()=>this.formField().id());_value=_(0);value=this._value.asReadonly();_disabled=_(!1);disabled=this._disabled.asReadonly();type="number";onChange=()=>{};onTouched=()=>{};ngOnInit(){this.initialize()}initialize(){}keyPress(e){this.onChange(Number(e))}onBlur(){this.onTouched()}writeValue(e){this._value.set(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled.set(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["pato-input-number"]],inputs:{formField:[1,"formField"],placeholder:[1,"placeholder"],icon:[1,"icon"],autocomplete:[1,"autocomplete"],additionalClasses:[1,"additionalClasses"],showArrows:[1,"showArrows"],allowNegative:[1,"allowNegative"],allowDecimal:[1,"allowDecimal"],allowNotation:[1,"allowNotation"],min:[1,"min"],max:[1,"max"]},features:[j([{provide:H,useExisting:N(()=>$),multi:!0}])],decls:3,vars:14,consts:[["searchInput",""],[1,"input-group-text"],[1,"form-control",3,"keyup","blur","type","placeholder","value","id","ngClass"],[3,"ngClass"]],template:function(t,o){if(t&1){let n=A();E(0,We,2,1,"span",1),r(1,"input",2,0),g("keyup",function(){w(n);let d=G(2);return x(o.keyPress(d.value))})("blur",function(){return w(n),x(o.onBlur())}),a()}t&2&&(I(o.icon()?0:-1),l(),oe("is-valid",o.control().validator&&o.control().valid&&o.control().touched)("is-invalid",o.control().validator&&o.control().invalid&&o.control().touched)("hideArrows",!o.showArrows()),m("type",o.type)("placeholder",o.placeholder())("value",o.value())("id",o.id())("ngClass",o.additionalClasses()),O("disabled",o.disabled()?"disabled":null)("autocomplete",o.autocomplete()?"on":"off"))},dependencies:[q,Oe,V],styles:[".hideArrows[_ngcontent-%COMP%]::-webkit-outer-spin-button, .hideArrows[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.hideArrows[_ngcontent-%COMP%]{-moz-appearance:textfield}"]})};var Y=class i{static toggleSelected(e,t,o=null){e.update(n=>{let s=n.filter(B=>B.options.selected===!0),d=n.findIndex(B=>B===t);if(d!==-1){if(n[d].options.selected){let M=F(y({},n[d]),{options:F(y({},n[d].options),{selected:!1})});return[...n.slice(0,d),M,...n.slice(d+1)]}if(o!==null&&s.length>=o){let M=n.findIndex(Ce=>Ce===s[s.length-1]);if(M!==-1){let Ce=F(y({},n[M]),{options:F(y({},n[M].options),{selected:!1})});n=[...n.slice(0,M),Ce,...n.slice(M+1)]}}let J=F(y({},n[d]),{options:F(y({},n[d].options),{selected:!0})});return[...n.slice(0,d),J,...n.slice(d+1)]}return n})}static getValues(e,t){let o=[];return t?(t.map((n,s)=>{n.options.selected&&o.push(this.getOption(e,n.item,s,"value"))}),o):[]}static getDefaultOptions(e,t,o){return{label:this.getOption(e,t,o,"label"),value:this.getOption(e,t,o,"value"),selected:this.getOption(e,t,o,"selected"),disabled:this.getOption(e,t,o,"disabled")}}static getOption(e,t,o,n){switch(n){case"label":let s=e.label||"label";return typeof s=="string"?t[s]:s(t,o);case"value":let d=e.value;return d?typeof d=="string"?t[d]:d(t,o):t.value;case"selected":let B=e.selected||"selected";return typeof B=="string"?!!t[B]:B(t,o);case"disabled":let J=e.disabled||"disabled";return typeof J=="string"?!!t[J]:J(t,o)}return null}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Se({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ye(i,e){if(i&1){let t=A();Ie(0),r(1,"div",1)(2,"shared-button",2),g("clicked",function(){let n=w(t).$implicit,s=S();return x(s.toggleSelected(n))}),a()()}if(i&2){let t=e.$implicit,o=S(),n=t.options;l(),O("aria-label",n.label),l(),m("label",o.isSignal(n.label)?n.label():n.label)("variant",n.variant)("outline",!n.selected)("disabled",o.dataDisabled(t))}}var ee=class i{formField=p.required();items=p.required();maxSelectableElements=p(null);returnType=p("array");options=p({});disabled=p();_isDisabled=ye(()=>this.disabled());isDisabled=this._isDisabled.asReadonly();_data=ye({source:this.items,computation:e=>e.map((t,o)=>({item:t,options:F(y({},Y.getDefaultOptions(this.options(),t,o)),{variant:this.getOption(t,o,"variant")})}))});data=this._data.asReadonly();isSignal=xe;dataDisabled(e){return this.isDisabled()||e.options.disabled}toggleSelected(e){if(this.dataDisabled(e))return;Y.toggleSelected(this._data,e,this.maxSelectableElements()),this._onTouched();let t=Y.getValues(this.options(),this.data());if(this.returnType()==="array"){this._onChange(t);return}this._onChange(t.length?t[0]:null)}getOption(e,t,o){switch(o){case"variant":let n=this.options()?.variant||"variant";return typeof n=="string"?e[n]||"primary":n(e,t)}return null}_onChange=()=>{};_onTouched=()=>{};registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){}setDisabledState(e){this._isDisabled.set(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["pato-button-group"]],inputs:{formField:[1,"formField"],items:[1,"items"],maxSelectableElements:[1,"maxSelectableElements"],returnType:[1,"returnType"],options:[1,"options"],disabled:[1,"disabled"]},features:[j([{provide:H,useExisting:N(()=>i),multi:!0}])],decls:3,vars:0,consts:[["role","toolbar",1,"btn-toolbar","justify-content-center"],["role","group",1,"btn-group","m-1"],[3,"clicked","label","variant","outline","disabled"]],template:function(t,o){t&1&&(r(0,"div",0),ie(1,Ye,3,5,"div",1,Ee),a()),t&2&&(l(),ne(o.data()))},dependencies:[q,V,X],encapsulation:2})};var fe=class i{formField=p.required();additionalClasses=p();_value=_("");value=this._value.asReadonly();_disabled=_(!1);disabled=this._disabled.asReadonly();multiple=p(!1);directory=p(!1);control=C(()=>this.formField().control());id=C(()=>this.formField().id());allowedFiles=p({});change=te();get accept_string(){let e=this.allowedFiles();if(!e)return"";let t=Object.keys(e),o=[];for(let n of t)e[n]&&o.push("."+n);return o.join(",")}onChange(e){this.change.emit(e)}onBlur(){this._onTouched()}_onChange=()=>{};_onTouched=()=>{};registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){}setDisabledState(e){this._disabled.set(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["pato-input-file"]],inputs:{formField:[1,"formField"],additionalClasses:[1,"additionalClasses"],multiple:[1,"multiple"],directory:[1,"directory"],allowedFiles:[1,"allowedFiles"]},outputs:{change:"change"},decls:1,vars:7,consts:[["type","file","required","",1,"form-control",3,"change","blur","id","value"]],template:function(t,o){t&1&&(r(0,"input",0),g("change",function(s){return o.onChange(s)})("blur",function(){return o.onBlur()}),a()),t&2&&(m("id",o.id())("value",o.value()),O("disabled",o.disabled()?"disabled":null)("accept",o.accept_string)("multiple",o.multiple()?!0:null)("webkitdirectory",o.directory()?!0:null)("directory",o.directory()?!0:null))},encapsulation:2})};var ve=class i{classOfAnimationEnd=p();_element=c(we);onAnimationEnd(e){let t=this.classOfAnimationEnd();if(!t)return;this._element.nativeElement.classList.add(t)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=De({type:i,selectors:[["","sharedAnimationEnd",""]],hostBindings:function(t,o){t&1&&g("animationend",function(s){return o.onAnimationEnd(s)})},inputs:{classOfAnimationEnd:[1,"classOfAnimationEnd"]}})};var Je=i=>({afterFormTemplate:i});function Ke(i,e){i&1&&(r(0,"div",1)(1,"span"),u(2),b(3,"appTranslate"),a()()),i&2&&(l(2),P(h(3,1,"i18n.common.dateUpdated")))}function Qe(i,e){if(i&1&&(r(0,"div",6),f(1,"shared-button",7),b(2,"appTranslate"),a()),i&2){let t=e.formValid;l(),m("disabled",!t)("label",h(2,2,"i18n.common.save"))}}var ge=class i{_appTranslateService=c(Le);_interceptorService=c(Ne);_activatedRoute=c(z);productsRequest=C(()=>this._interceptorService.getHttpRequestById("productsReq"));form=_(null);product=p.required();router=c(U);productsService=c(W);imageFileList=void 0;tempImages=_([]);imagesToCarousel=C(()=>[...this.product().images,...this.tempImages()]);dataForm={form:{id:"form-product-details"},controls:{title:{component:$,formFieldComponent:R,value:"",validators:[T.required],args:{formField:{label:this._appTranslateService.get("i18n.common.title")}},classes:{formField:"col-12",control:"input-group"}},slug:{component:$,formFieldComponent:R,value:"",validators:[T.required,T.pattern(je.slugPattern)],args:{formField:{label:this._appTranslateService.get("i18n.common.title")}},classes:{formField:"col-12",control:"input-group"}},description:{component:ue,formFieldComponent:R,value:"",validators:[T.required],asyncValidators:[],valueChangesSubscribe:!0,args:{control:{rows:6},formField:{label:this._appTranslateService.get("i18n.common.description")}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}},price:{component:Z,formFieldComponent:R,value:0,validators:[T.required,T.min(0)],asyncValidators:[],valueChangesSubscribe:!0,args:{control:{},formField:{label:this._appTranslateService.get("i18n.common.price")}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}},stock:{component:Z,formFieldComponent:R,value:2,validators:[T.required,T.min(0)],asyncValidators:[],valueChangesSubscribe:!0,args:{control:{},formField:{label:this._appTranslateService.get("i18n.common.stock")}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}},tags:{component:$,formFieldComponent:R,value:0,validators:[],asyncValidators:[],args:{control:{},formField:{label:this._appTranslateService.get("i18n.common.tags")}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}},gender:{component:ee,formFieldComponent:R,value:0,validators:[T.required,T.pattern(/men|women|kid|unisex/)],asyncValidators:[],args:{control:{options:{value:"value",selected:e=>this.product().gender.includes(e.value)},maxSelectableElements:1,returnType:"obj",items:[{label:this._appTranslateService.get("i18n.common.male"),value:"men"},{label:this._appTranslateService.get("i18n.common.female"),value:"women"},{label:this._appTranslateService.get("i18n.common.children"),value:"kid"},{label:this._appTranslateService.get("i18n.common.unisex"),value:"unisex"}]},formField:{}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}},sizes:{component:ee,formFieldComponent:Ge,value:0,validators:[],asyncValidators:[],args:{control:{options:{value:"value",label:"value",selected:(e,t)=>this.product().sizes.includes(e.value)},items:[{value:"XS"},{value:"S"},{value:"M"},{value:"L"},{value:"XL"},{value:"XXL"}]},formField:{}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}},images:{component:fe,formFieldComponent:R,value:"",validators:[],asyncValidators:[],args:{control:{change:e=>{console.log(e);let t=e.target.files;this.imageFileList=t??void 0;let o=Array.from(t??[]).map(n=>URL.createObjectURL(n));this.tempImages.set(o)}},formField:{}},classes:{formField:"mt-3 col-6 mt-4",control:"input-group"}}}};async submit(e){if(console.log(e.content),!this.form())return;let o=e.content,n=this.product().images??[],s=F(y({},o),{images:[...n],tags:o.tags?.toLowerCase().split(",").map(d=>d.trim())??[]});if(console.log(s),this.product().id==="new"){let d=await K(this.productsService.createProduct(s,this.imageFileList));this.router.navigate(["../"],{relativeTo:this._activatedRoute})}else await K(this.productsService.updateProduct(this.product().id,s,this.imageFileList))}buildForm(e){e&&(this.form.set(e),e.reset(this.product()),e.patchValue({tags:this.product().tags?.join(",")}))}sizes=["XS","S","M","L","XL","XXL"];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["product-details"]],inputs:{product:[1,"product"]},decls:11,vars:7,consts:[["afterFormTemplate",""],["sharedAnimationEnd","","classOfAnimationEnd","d-none",1,"alert","alert-success","fixed","bottom-4","right-4","w-80","animation-fill-mode-forwards","animate-fadeOut"],[1,"row"],[1,"col-6"],[3,"buildForm","formSubmit","data","templates"],[3,"images"],[1,"mt-3","w-100"],["additionalClasses","w-100","type","submit",1,"w-100",3,"disabled","label"]],template:function(t,o){if(t&1){let n=A();E(0,Ke,4,3,"div",1),r(1,"fieldset")(2,"legend"),u(3),a(),r(4,"div",2)(5,"div",3)(6,"pato-form",4),g("buildForm",function(d){return w(n),x(o.buildForm(d))})("formSubmit",function(d){return w(n),x(o.submit(d))}),E(7,Qe,3,4,"ng-template",null,0,Re),a()(),r(9,"div",3),f(10,"product-carousel",5),a()()()}if(t&2){let n,s=G(8);I((n=(n=o.productsRequest())==null?null:n.state)==="complete"?0:-1),l(3),P(o.product().title),l(3),m("data",o.dataForm)("templates",Q(5,Je,s)),l(4),m("images",o.imagesToCarousel())}},dependencies:[ze,V,pe,X,k,ve],encapsulation:2})};function Ze(i,e){i&1&&(r(0,"div",0),f(1,"span",2),a())}function et(i,e){if(i&1&&f(0,"product-details",1),i&2){let t=S();m("product",t.productResource.value())}}var be=class i{activatedRoute=c(z);router=c(U);productService=c(W);productId=ke(this.activatedRoute.params.pipe(Fe(e=>e.id)));productResource=se({request:()=>({id:this.productId()}),loader:({request:e})=>this.productService.getProductById(e.id)});redirectEffect=Be(()=>{this.productResource.error()&&this.router.navigate(["../"],{relativeTo:this.activatedRoute})});static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-product-admin-page"]],decls:2,vars:2,consts:[[1,"flex","justify-center","items-center","h-screen"],[3,"product"],[1,"loading","loading-spinner","loading-lg"]],template:function(t,o){t&1&&E(0,Ze,2,0,"div",0)(1,et,1,1,"product-details",1),t&2&&(I(o.productResource.isLoading()?0:-1),l(),I(o.productResource.hasValue()?1:-1))},dependencies:[ge],encapsulation:2})};var Xe=i=>["./",i],tt=(i,e)=>e.id;function ot(i,e){if(i&1&&(r(0,"span",9),u(1),a()),i&2){let t=S().$implicit;l(),P(t.stock)}}function it(i,e){if(i&1&&(r(0,"span",10),u(1),a()),i&2){let t=S().$implicit;l(),P(t.stock)}}function nt(i,e){if(i&1&&(r(0,"span",11),u(1),a()),i&2){let t=S().$implicit;l(),P(t.stock)}}function rt(i,e){if(i&1&&(r(0,"tr")(1,"th")(2,"label"),f(3,"input",2),a()(),r(4,"td")(5,"div",3)(6,"div",4)(7,"div",5),f(8,"shared-image",6),b(9,"productImage"),a()(),r(10,"div")(11,"a",7),u(12),a(),r(13,"div",8),u(14),a()()()(),r(15,"td"),u(16),b(17,"currency"),a(),r(18,"td"),E(19,ot,2,1,"span",9)(20,it,2,1,"span",10)(21,nt,2,1,"span",11),a(),r(22,"th")(23,"a",12),u(24),b(25,"appTranslate"),a()()()),i&2){let t=e.$implicit;l(8),m("url",h(9,8,t.images[0])),l(3),m("routerLink",Q(14,Xe,t.id)),l(),P(t.title),l(2),re(" ",t.sizes.join(", ")," "),l(2),re(" ",h(17,10,t.price)," "),l(3),I(t.stock<=10?19:t.stock<=20?20:21),l(4),m("routerLink",Q(16,Xe,t.id)),l(),re(" ",h(25,12,"i18n.common.details")," ")}}var he=class i{products=p.required();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["product-table"]],inputs:{products:[1,"products"]},decls:20,vars:9,consts:[[1,"overflow-x-auto"],[1,"table"],["type","checkbox",1,"form-check-input"],[1,"d-flex","align-items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle",2,"width","32px","height","32px"],["classes","bg-info rounded-circle",3,"url"],[1,"font-bold","hover:text-accent","transition-colors","duration-300",3,"routerLink"],[1,"text-sm","opacity-50"],[1,"badge","text-bg-danger"],[1,"badge","text-bg-warning"],[1,"badge","text-bg-success"],[1,"btn","btn-ghost","text-accent","btn-xs",3,"routerLink"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th")(5,"label"),f(6,"input",2),a()(),r(7,"th"),u(8),b(9,"appTranslate"),a(),r(10,"th"),u(11),b(12,"appTranslate"),a(),r(13,"th"),u(14),b(15,"appTranslate"),a(),f(16,"th"),a()(),r(17,"tbody"),ie(18,rt,26,18,"tr",null,tt),a()()()),t&2&&(l(8),P(h(9,3,"i18n.common.title")),l(3),P(h(12,5,"i18n.common.price")),l(3),P(h(15,7,"i18n.common.inventory")),l(4),ne(o.products()))},dependencies:[qe,le,Ae,Me,k],encapsulation:2})};var at=()=>[],lt=()=>["./new"],_e=class i{_productsService=c(W);_paginationService=c(He);currentPage=this._paginationService.currentPage;productsPerPage=_(10);productsResource=se({request:()=>({page:this._paginationService.currentPage()-1,limit:this.productsPerPage()}),loader:({request:e})=>this._productsService.getProducts({offset:e.page*9,limit:e.limit})});static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-products-admin-page"]],decls:24,vars:13,consts:[["selectPerPage",""],[1,"card"],[1,"card-header"],[1,"d-flex"],[1,"flex-grow-1"],[3,"pages","currentPage"],[1,"form-select","w-20","ms-2",3,"change"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"card-body"],[3,"products"],[1,"card-footer"],[3,"routerLink"]],template:function(t,o){if(t&1){let n=A();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),u(4),b(5,"appTranslate"),a(),f(6,"app-pagination",5),r(7,"select",6,0),g("change",function(){w(n);let d=G(8);return x(o.productsPerPage.set(+d.value))}),r(9,"option",7),u(10,"10"),a(),r(11,"option",8),u(12,"20"),a(),r(13,"option",9),u(14,"50"),a(),r(15,"option",10),u(16,"100"),a()()()(),r(17,"div",11),f(18,"product-table",12),a(),r(19,"div",13)(20,"p")(21,"a",14),u(22),b(23,"appTranslate"),a()()()()}if(t&2){let n,s,d;l(4),ae("",h(5,7,"i18n.features.tesloshop.productList")," (",(n=o.productsResource.value())==null?null:n.count,")"),l(2),m("pages",(s=(s=o.productsResource.value())==null?null:s.pages)!==null&&s!==void 0?s:0)("currentPage",o.currentPage()),l(12),m("products",(d=(d=o.productsResource.value())==null?null:d.products)!==null&&d!==void 0?d:Pe(11,at)),l(3),m("routerLink",Pe(12,lt)),l(),P(h(23,9,"i18n.features.tesloshop.newProduct"))}},dependencies:[he,Ue,le,k],encapsulation:2})};var $e=async(i,e)=>{let t=c(ce),o=c(de);return await K(t.checkStatus()),o.isAdmin()};var st=[{path:"",component:me,canMatch:[$e],children:[{path:"products",component:_e},{path:"products/:id",component:be},{path:"**",redirectTo:"products"}]}],si=st;export{st as adminDashboardRoutes,si as default};
