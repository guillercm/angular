import{a as $}from"./chunk-KHZTQPSL.js";import{a as U,b as G}from"./chunk-6GRKXTWF.js";import{b as pe}from"./chunk-6SC4F2GT.js";import"./chunk-HUYJNUJC.js";import"./chunk-H3BM7GQS.js";import{b as E}from"./chunk-FE3D3GWU.js";import{c as me,d as se}from"./chunk-N732RDM7.js";import"./chunk-CCOCAEYR.js";import"./chunk-LKWVCNZG.js";import{a as _}from"./chunk-HQ6BEVK7.js";import{a as ce}from"./chunk-VVT4Q77C.js";import{b as ae,d as le,e as j}from"./chunk-VGIZYUEZ.js";import"./chunk-GTJUILT2.js";import{e as O}from"./chunk-KP3CEOU7.js";import{$b as S,Da as C,Db as f,Dd as P,Ec as re,Gc as N,Hc as H,J as X,Jb as A,Ka as oe,Na as d,Ub as p,Yb as M,Yc as ie,Zb as b,_ as Y,ac as x,bc as n,cc as o,dc as c,ea as Z,fc as ne,hc as F,ic as g,ka as m,kb as k,n as K,pb as l,sc as a,tc as v,u as W,uc as B,va as ee,wa as te,zd as z}from"./chunk-MHIS6V2U.js";import"./chunk-75BJGDCN.js";var y=class r{_apiHandlerService=m(me);_configService=m(se);_configApi=d(null);constructor(){this.initialize()}initialize(){this._configApi.set(this._configService.config().apis.countries)}getEndpoint(t){return this._apiHandlerService.getEndpoint(this._configApi,t)}searchCountryByAlphaCode(t){let e=this.getEndpoint("searchCountryByAlphaCode");return this._apiHandlerService.get(e,{pathParams:{code:t}}).pipe(W(i=>i.length>0?i[0]:null))}searchCapital(t){let e=this.getEndpoint("searchCapital");return this._apiHandlerService.get(e,{pathParams:{capital:t},context:{actionsForAnHttpError:{modal:{excludeStatusCodes:[O.NotFound]}}}}).pipe()}searchCountry(t){let e=this.getEndpoint("searchCountry");return this._apiHandlerService.get(e,{pathParams:{country:t},context:{actionsForAnHttpError:{modal:{excludeStatusCodes:[O.NotFound]}}}}).pipe()}searchRegion(t){let e=this.getEndpoint("searchRegion");return this._apiHandlerService.get(e,{pathParams:{region:t},context:{actionsForAnHttpError:{modal:{excludeStatusCodes:[O.NotFound]}}}}).pipe(X(i=>K([])))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=Z({token:r,factory:r.\u0275fac,providedIn:"root"})};var de=r=>["/angular-from-zero-to-expert/countries/by",r];function fe(r,t){if(r&1&&(n(0,"tr")(1,"td"),a(2),o(),n(3,"td"),a(4),o(),n(5,"td"),c(6,"img",2),o(),n(7,"td"),a(8),o(),n(9,"td"),a(10),o(),n(11,"td"),a(12),N(13,"number"),o(),n(14,"td")(15,"a",3),a(16,"Info"),o()()()),r&2){let e=t.$implicit,i=t.$index;l(2),v(i+1),l(2),B(" ",e.flag," "),l(2),p("src",e.flags.svg,k)("alt",e.name.common),l(2),v(e.name.common),l(2),v(e.capital),l(2),v(H(13,8,e.population)),l(3),p("routerLink",re(10,de,e.cca3))}}function ye(r,t){if(r&1&&(n(0,"table",0)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),o(),n(5,"th"),a(6,"Icon"),o(),n(7,"th"),a(8,"Bandera"),o(),n(9,"th"),a(10,"Nombre"),o(),n(11,"th"),a(12,"Capital"),o(),n(13,"th"),a(14,"Poblaci\xF3n"),o(),c(15,"th"),o()(),n(16,"tbody"),S(17,fe,17,12,"tr",null,b),o()()),r&2){let e=g();l(17),x(e.countries())}}function ge(r,t){r&1&&(n(0,"div",1),a(1,` No hay pa\xEDses que mostrar
`),o())}var h=class r{countries=oe([]);static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["features-countries-country-table"]],inputs:{countries:[1,"countries"]},decls:2,vars:1,consts:[[1,"table","table-hover","border","mt-4","mh-rem-25"],[1,"alert","alert-warning","text-center","mt-4"],[3,"src","alt"],[3,"routerLink"]],template:function(e,i){e&1&&A(0,ye,19,0,"table",0)(1,ge,2,0,"div",1),e&2&&M(i.countries().length?0:1)},dependencies:[P,z,j],styles:["img[_ngcontent-%COMP%]{width:25px}"]})};var D=class r{_destroyRef=m(C);_countriesService=m(y);_countries=d([]);countries=this._countries.asReadonly();form=d(null);_sessionService=m(E);dataForm={form:{id:"capital"},controls:{query:{component:G,formFieldComponent:$,value:"",validators:[],args:{control:{placeholder:"Buscar por capital",autocomplete:!1,submitFormOnDebounce:!0},formField:{label:"Por capital"}},classes:{formField:"mt-3 col-12",control:"input-group"}}}};searchCapital(t){t=t.trim(),t&&this._countriesService.searchCapital(t).pipe(_(this._destroyRef)).subscribe(e=>{this._countries.set(e),e.length?this._sessionService.setItem("countryByCapital",t):this._sessionService.removeItem("countryByCapital")})}buildForm(t){this.form.set(t);let e=this._sessionService.getItem("countryByCapital","");this.searchCapital(e),t?.controls.query.patchValue(e)}onSubmit({content:t}){this.searchCapital(t.query)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["features-countries-by-capital-page"]],decls:6,vars:2,consts:[[1,"flex-fill"],[1,"row","pt-2"],[1,"col-12"],["classes","row pb-4",3,"buildForm","formSubmit","data"],[1,"col-12","w-100","overflow-x-auto","mh-rem-25"],[3,"countries"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"pato-form",3),F("buildForm",function(u){return i.buildForm(u)})("formSubmit",function(u){return i.onSubmit(u)}),o()(),n(4,"div",4),c(5,"features-countries-country-table",5),o()()()),e&2&&(l(3),p("data",i.dataForm),l(2),p("countries",i.countries()))},dependencies:[U,h],encapsulation:2})};var L=class r{_destroyRef=m(C);_countriesService=m(y);_countries=d([]);countries=this._countries.asReadonly();form=d(null);_sessionService=m(E);dataForm={form:{id:"country"},controls:{query:{component:G,formFieldComponent:$,value:"",validators:[],args:{control:{placeholder:"Buscar por pa\xEDs",autocomplete:!1,submitFormOnDebounce:!0},formField:{label:"Por pa\xEDs"}},classes:{formField:"mt-3 col-12",control:"input-group"}}}};searchCountry(t){t=t.trim(),t&&this._countriesService.searchCountry(t).pipe(_(this._destroyRef)).subscribe(e=>{this._countries.set(e),e.length?this._sessionService.setItem("countryByCountry",t):this._sessionService.removeItem("countryByCountry")})}buildForm(t){this.form.set(t);let e=this._sessionService.getItem("countryByCountry","");this.searchCountry(e),t?.controls.query.patchValue(e)}onSubmit({content:t}){this.searchCountry(t.query)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["features-countries-by-country-page"]],decls:6,vars:2,consts:[[1,"flex-fill"],[1,"row","pt-2"],[1,"col-12"],["classes","row pb-4",3,"buildForm","formSubmit","data"],[1,"col-12","w-100","overflow-x-auto","mh-rem-25"],[3,"countries"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"pato-form",3),F("buildForm",function(u){return i.buildForm(u)})("formSubmit",function(u){return i.onSubmit(u)}),o()(),n(4,"div",4),c(5,"features-countries-country-table",5),o()()()),e&2&&(l(3),p("data",i.dataForm),l(2),p("countries",i.countries()))},dependencies:[U,h],encapsulation:2})};function ve(r,t){if(r&1){let e=ne();n(0,"shared-button",6),F("clicked",function(){let s=ee(e).$implicit,u=g();return te(u.searchByRegion(s))}),o()}if(r&2){let e=t.$implicit,i=g();p("label",e)("outline",i.selectedRegion()===e)}}var w=class r{_destroyRef=m(C);_sessionService=m(E);_countriesService=m(y);regions=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion=d("Europe");_countries=d([]);countries=this._countries.asReadonly();ngOnInit(){this.initialize()}initialize(){let t=this._sessionService.getItem("countryByRegion","Europe");this.searchByRegion(t)}searchByRegion(t){this.selectedRegion.set(t),this._sessionService.setItem("countryByRegion",t),this._countriesService.searchRegion(t).pipe(_(this._destroyRef)).subscribe(e=>{this._countries.set(e)})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["features-countries-by-region-page"]],decls:7,vars:1,consts:[[1,"row","mt-2"],[1,"col-12"],[1,"d-flex","justify-content-center","align-items-center","g-3",2,"flex-flow","row wrap"],["additionalClasses","mx-2 w-auto",1,"w-auto","m-2",3,"label","outline"],[1,"col-12","w-100","overflow-x-auto","mh-rem-25"],[3,"countries"],["additionalClasses","mx-2 w-auto",1,"w-auto","m-2",3,"clicked","label","outline"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),S(3,ve,1,2,"shared-button",3,b),o()(),n(5,"div",4),c(6,"features-countries-country-table",5),o()()),e&2&&(l(3),x(i.regions),l(3),p("countries",i.countries()))},dependencies:[P,h,ce],encapsulation:2})};function _e(r,t){if(r&1&&(n(0,"span",9),a(1),o()),r&2){let e,i=g().$implicit,s=g();l(),v((e=s.country())==null?null:e.translations[i].common)}}function he(r,t){if(r&1&&A(0,_e,2,1,"span",9),r&2){let e,i=t.$implicit,s=g();M((e=s.country())!=null&&e.translations&&((e=s.country())!=null&&e.translations[i])?0:-1)}}var T=class r{_activatedRoute=m(ae);_router=m(le);_destroyRef=m(C);_countriesService=m(y);_country=d(null);country=this._country.asReadonly();getTranslations=ie(()=>{let t=this.country();return t?Object.keys(t.translations):[]});ngOnInit(){this._activatedRoute.params.pipe(_(this._destroyRef),Y(({id:t})=>this._countriesService.searchCountryByAlphaCode(t))).subscribe(t=>t?this._country.set(t):this._router.navigateByUrl(""))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["features-countries-country-page"]],decls:32,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(e,i){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Pa\xEDs: "),n(4,"strong"),a(5),o()(),c(6,"hr"),o()(),n(7,"div",0)(8,"div",2)(9,"h3"),a(10,"Bandera"),o(),c(11,"img",3),o(),n(12,"div",4)(13,"h3"),a(14,"Informaci\xF3n"),o(),n(15,"ul",5)(16,"li",6)(17,"strong"),a(18,"Poblaci\xF3n:"),o(),a(19),N(20,"number"),o(),n(21,"li",6)(22,"strong"),a(23,"C\xF3digo:"),o(),a(24),o()()()(),n(25,"div",7)(26,"div",4)(27,"h3"),a(28,"Traducciones"),o(),n(29,"div",8),S(30,he,1,1,null,null,b),o()()()),e&2){let s,u,q,Q,J;l(5),v((s=i.country())==null||s.name==null?null:s.name.common),l(6),p("src",(u=i.country())==null||u.flags==null?null:u.flags.svg,k)("alt",(q=i.country())==null||q.name==null?null:q.name.common),l(8),B(" ",H(20,5,(Q=i.country())==null?null:Q.population)," "),l(5),B(" ",(J=i.country())==null?null:J.cca3," "),l(6),x(i.getTranslations())}},dependencies:[P,z],encapsulation:2})};var V=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["features-country-home-page"]],decls:11,vars:0,consts:[["url","https://img.daisyui.com/images/stock/photo-1507358522600-9f71e620c44e.webp",1,"opacity-50"],[1,"hero-overlay","bg-opacity-60"],[1,"hero-content","text-neutral-content","text-center"],[1,"max-w-md"],[1,"mb-5","text-5xl","font-bold"],[1,"mb-5"],["routerLink","by-capital",1,"btn","btn-primary"]],template:function(e,i){e&1&&(n(0,"div"),c(1,"shared-image",0)(2,"div",1),n(3,"div",2)(4,"div",3)(5,"h1",4),a(6,"Aplicaci\xF3n de pa\xEDses"),o(),n(7,"p",5),a(8," Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi. "),o(),n(9,"button",6),a(10,"Empezar"),o()()()())},dependencies:[j,pe],encapsulation:2})};var Bt=[{path:"",component:V},{path:"by-capital",component:D},{path:"by-country",component:L},{path:"by-region",component:w},{path:"by/:id",component:T},{path:"**",redirectTo:"by-capital"}];export{Bt as countriesRoutes};
