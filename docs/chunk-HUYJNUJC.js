import{k as m}from"./chunk-H3BM7GQS.js";import{a as f}from"./chunk-HQ6BEVK7.js";import{Da as p,E as l,Gb as u,Rc as c,_ as o,ka as t,u as n}from"./chunk-MHIS6V2U.js";var h=class a{_translate=t(m);_destroyRef=t(p);_changeDetectorRef=t(c);lastValue=null;subscription=null;transform(e,...r){if(e===void 0)return"";if(this.lastValue===e)return this.lastValue;let i=r[0],b=this._translate.getValueForPlurals(i);return this.subscription?.unsubscribe(),this.subscription=null,this.subscription=l(...this._translate.changesLangObservables).pipe(f(this._destroyRef),o(()=>this._translate.getTranslate(e,i)),n(s=>this._translate.handlePlurals(b,s))).subscribe(s=>{this.lastValue=s,this._changeDetectorRef.markForCheck()}),this.lastValue}static \u0275fac=function(r){return new(r||a)};static \u0275pipe=u({name:"appTranslate",type:a,pure:!1})};export{h as a};
