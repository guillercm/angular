import{c as l,d as m}from"./chunk-VS2C44R4.js";import{Na as p,ea as a,ka as r,u as s}from"./chunk-RKFGQAXB.js";var c=class t{_apiHandlerService=r(l);_configService=r(m);_configApi=p(null);listIds=[];constructor(){this.initialize(),this.initListOfIds()}initialize(){this._configApi.set(this._configService.config().apis.pokemons)}getEndpoint(e){return this._apiHandlerService.getEndpoint(this._configApi,e)}loadPage(e,i=20){return this.loadsPokemons(e,i).pipe(s(o=>o.results.map(n=>({id:n.url.split("/").at(-2)??"",name:n.name}))))}loadsPokemons(e,i=20){e!==0&&--e,e=Math.max(0,e);let o=this.getEndpoint("getPokemons");return this._apiHandlerService.get(o,{pathParams:{page:e*i,limit:i}})}initListOfIds(){this.loadPage(0,9999);let e=1302;for(let i=2;i<=1025;i++)this.listIds.push({id:i.toString()});for(let i=10001;this.listIds.length<1302;i++)this.listIds.push({id:i.toString()})}loadPokemon(e){let i=this.getEndpoint("getPokemonById");return this._apiHandlerService.get(i,{pathParams:{id:e}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})};export{c as a};
